!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=class{constructor(t,e,n,o,r,d,l){this.id=t,this.project=e,this.title=n,this.description=o,this.dueDate=r,this.priority=d,this.status=l}};var r=(()=>{const t=t=>document.getElementById(t),e=t=>document.getElementsByClassName(t)[0];return{addNode:t=>document.createElement(t),addAttribute:(t,e,n)=>{t.setAttribute(e,n)},domElementId:t,domElementClass:e,addText:t=>document.createTextNode(t),appendToNode:(t,e)=>{t.appendChild(e)},replaceNode:(t,n,o)=>{e(t).replaceChild(n,o)},appendToDom:(e,n)=>{t(e).appendChild(n)}}})();var d={selProject:r.domElementId("selProject"),title:r.domElementId("title"),desc:r.domElementId("desc"),dueDate:r.domElementId("date"),priority:r.domElementId("priority"),status:r.domElementId("status"),newProjectBtn:r.domElementId("newProjectBtn"),newProject:r.domElementId("newProject"),projectForm:r.domElementClass("projectForm"),todoBtn:r.domElementId("todoBtn"),errors:r.domElementClass("errors"),todoPanel:r.domElementId("todoPanel"),projectHeading:r.domElementClass("projectHeading"),detailsPanel:r.domElementId("detailsPanel"),detailsHeading:r.domElementId("detailsHeading")};const l=()=>d.selProject.value,a=t=>{let e=document.createElement("option");e.setAttribute("class","todoItem"),e.setAttribute("id",t);let n=document.createTextNode(t);e.appendChild(n),d.selProject.appendChild(e)},s=t=>{d.errors.innerHTML=t};let i=0,c="",u=JSON.parse(localStorage.getItem("todos"))?JSON.parse(localStorage.getItem("todos")):[],p=JSON.parse(localStorage.getItem("projects"))?JSON.parse(localStorage.getItem("projects")):[];d.todoBtn.addEventListener("click",()=>{let t={project:d.selProject.value,title:d.title.value,desc:d.desc.value,dueDate:d.dueDate.value,priority:d.priority.value,status:d.status.value},e=new o(i++,t.project,t.title,t.desc,t.dueDate,t.priority,t.status),n=u.filter(t=>e.title==t.title&&e.project==t.project);e.title.length>0&&n.length<=0?(u.push(e),localStorage.setItem("todos",JSON.stringify(u)),m(l()),s(c="")):s(c="Invalid title or title used already")});const m=t=>{d.todoPanel.innerHTML="",u.filter(e=>e.project==t).map(t=>{(t=>{let e=document.createElement("li");e.setAttribute("class","todoItem"),e.setAttribute("id",t);let n=document.createTextNode(t);e.appendChild(n),d.todoPanel.appendChild(e)})(t.title),r.domElementId(t.title).addEventListener("click",()=>{d.detailsPanel.innerHTML="",(t=>{let e=`<div class='col-md-12'>\n    <table class="table table-hover">\n    <thead>\n      <tr>\n        <th scope="col">Title</th>\n        <th scope="col">${t.title}</th>\n        <th scope="col"></th>\n        <th scope="col"><button class='btn btn-sm btn-danger' id='${t.id}'>delete</button></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <th scope="row">Status</th>\n        <td>${t.status}</td>\n        <td></td>\n        <td><button class='btn btn-sm btn-success'>update</button></td>\n      </tr>\n      <tr>\n        <th scope="row">Priority</th>\n        <td>${t.priority}</td>\n        <td></td>\n        <td><button class='btn btn-sm btn-info'>change</button></td>\n      </tr>\n      <tr>\n        <th scope="row">Due date</th>\n        <td>${t.dueDate}</td>\n        <td></td>\n        <td></td>\n      </tr>\n      <tr>\n        <th scope="row">Description</th>\n        <td colspan="2">${t.description}</td>\n        <td><button class='btn btn-sm btn-info'>edit</button></td>\n      </tr>\n    </tbody>\n  </table>\n                  </div>`;d.detailsPanel.innerHTML=e})(t),r.domElementId(t.id).addEventListener("click",()=>{u.splice(u.indexOf(t),1),b(t),d.detailsPanel.innerHTML=""})})})},b=t=>{u.splice(u.indexOf(t),1),localStorage.setItem("todos",JSON.stringify(u))},h=()=>{d.newProjectBtn.addEventListener("click",()=>{let t=(()=>{let t=d.newProject.value;return d.newProject.value="",t})();!p.includes(t)&&t.length>0?(p.push(t),localStorage.setItem("projects",JSON.stringify(p)),a(t),s(c="")):s(c="Project exists already")})};d.selProject.addEventListener("change",()=>{d.detailsPanel.innerHTML="",(t=>{d.projectHeading.innerHTML=`${t} - Project Todo List `,d.todoBtn.innerHTML=`+ Add to ${t} Project`})(l()),m(l())});h(),(JSON.parse(localStorage.getItem("projects"))?JSON.parse(localStorage.getItem("projects")):[]).forEach(t=>{a(t)}),m("Default")}]);