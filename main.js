!function(t){var e={};function n(o){if(e[o])return e[o].exports;var d=e[o]={i:o,l:!1,exports:{}};return t[o].call(d.exports,d,d.exports,n),d.l=!0,d.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var d in t)n.d(o,d,function(e){return t[e]}.bind(null,d));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=class{constructor(t,e,n,o,d,r,l){this.id=t,this.project=e,this.title=n,this.description=o,this.dueDate=d,this.priority=r,this.status=l}};var d=(()=>{const t=t=>document.getElementById(t),e=t=>document.getElementsByClassName(t)[0];return{addNode:t=>document.createElement(t),addAttribute:(t,e,n)=>{t.setAttribute(e,n)},domElementId:t,domElementClass:e,addText:t=>document.createTextNode(t),appendToNode:(t,e)=>{t.appendChild(e)},replaceNode:(t,n,o)=>{e(t).replaceChild(n,o)},appendToDom:(e,n)=>{t(e).appendChild(n)}}})();var r={selProject:d.domElementId("selProject"),title:d.domElementId("title"),desc:d.domElementId("desc"),dueDate:d.domElementId("date"),priority:d.domElementId("priority"),status:d.domElementId("status"),newProjectBtn:d.domElementId("newProjectBtn"),newProject:d.domElementId("newProject"),projectForm:d.domElementClass("projectForm"),todoBtn:d.domElementId("todoBtn"),errors:d.domElementClass("errors"),todoPanel:d.domElementId("todoPanel"),projectHeading:d.domElementClass("projectHeading"),detailsPanel:d.domElementId("detailsPanel"),detailsHeading:d.domElementId("detailsHeading")};const l=()=>r.selProject.value,a=t=>{let e=document.createElement("option");e.setAttribute("class","todoItem"),e.setAttribute("id",t);let n=document.createTextNode(t);e.appendChild(n),r.selProject.appendChild(e)},s=t=>{r.errors.innerHTML=t};let i=0,c="",u=JSON.parse(localStorage.getItem("todos"))?JSON.parse(localStorage.getItem("todos")):[],m=JSON.parse(localStorage.getItem("projects"))?JSON.parse(localStorage.getItem("projects")):[];r.todoBtn.addEventListener("click",()=>{let t={project:r.selProject.value,title:r.title.value,desc:r.desc.value,dueDate:r.dueDate.value,priority:r.priority.value,status:r.status.value},e=new o(i++,t.project,t.title,t.desc,t.dueDate,t.priority,t.status),n=u.filter(t=>e.title==t.title&&e.project==t.project);e.title.length>0&&n.length<=0?(u.push(e),localStorage.setItem("todos",JSON.stringify(u)),p(l()),s(c="")):s(c="Invalid title or title used already")});const p=t=>{r.todoPanel.innerHTML="",u.filter(e=>e.project==t).map(t=>{(t=>{let e=document.createElement("li");e.setAttribute("class","todoItem"),e.setAttribute("id",t);let n=document.createTextNode(t);e.appendChild(n),r.todoPanel.appendChild(e)})(t.title),"Completed"==t.status?d.domElementId(t.title).classList.add("active"):d.domElementId(t.title).classList.remove("active"),d.domElementId(t.title).addEventListener("click",()=>{r.detailsPanel.innerHTML="",(t=>{let e=`<div class='col-md-12'>\n    <table class="table table-hover">\n    <thead>\n      <tr>\n        <th scope="col">Title</th>\n        <th scope="col">${t.title}</th>\n        <th scope="col"></th>\n        <th scope="col"><button class='btn btn-sm btn-danger' id='${t.id}'>delete</button></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <th scope="row">Status</th>\n        <td id='changeStatus'>${t.status}</td>\n        <td></td>\n        <td><button class='btn btn-sm btn-info' id='statusBtn'>change</button></td>\n      </tr>\n      <tr>\n        <th scope="row">Priority</th>\n        <td id='changePriority'>${t.priority}</td>\n        <td></td>\n        <td><button class='btn btn-sm btn-info'>change</button></td>\n      </tr>\n      <tr>\n        <th scope="row">Due date</th>\n        <td>${t.dueDate}</td>\n        <td></td>\n        <td></td>\n      </tr>\n      <tr>\n        <th scope="row">Description</th>\n        <td id='changeDescription' colspan="2">${t.description}</td>\n        <td><button class='btn btn-sm btn-info'>edit</button></td>\n      </tr>\n    </tbody>\n  </table>\n                  </div>`;r.detailsPanel.innerHTML=e})(t),d.domElementId(t.id).addEventListener("click",()=>{g(t),p(l()),r.detailsPanel.innerHTML=""}),d.domElementId("statusBtn").addEventListener("click",()=>{h(t)})})})},h=t=>{let e=d.domElementId("changeStatus").innerHTML;e="Pending"==e?"Completed":"Pending",u[u.indexOf(t)].status=e,localStorage.setItem("todos",JSON.stringify(u)),r.detailsPanel.innerHTML="",p(l())},g=t=>{u.splice(u.indexOf(t),1),localStorage.setItem("todos",JSON.stringify(u))},b=()=>{r.newProjectBtn.addEventListener("click",()=>{let t=(()=>{let t=r.newProject.value;return r.newProject.value="",t})();!m.includes(t)&&t.length>0?(m.push(t),localStorage.setItem("projects",JSON.stringify(m)),a(t),s(c="")):s(c="Project exists already")})};r.selProject.addEventListener("change",()=>{r.detailsPanel.innerHTML="",(t=>{r.projectHeading.innerHTML=`${t} - Project Todo List `,r.todoBtn.innerHTML=`+ Add to ${t} Project`})(l()),p(l())});b(),(JSON.parse(localStorage.getItem("projects"))?JSON.parse(localStorage.getItem("projects")):[]).forEach(t=>{a(t)}),p("Default")}]);